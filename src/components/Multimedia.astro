---
const videoUrl = "URL_DEL_VIDEO";  // Reemplaza con tu URL real
const audioUrl = "URL_DEL_AUDIO";  // Reemplaza con tu URL real

// Función para verificar si una URL es válida
const hasValidUrl = (url: string) => {
  return url && url !== "URL_DEL_VIDEO" && url !== "URL_DEL_AUDIO";
};

const hasVideo = hasValidUrl(videoUrl);
const hasAudio = hasValidUrl(audioUrl);
---

<section class="py-16 px-4 max-w-6xl mx-auto">
  <h2 class="text-4xl font-semibold text-center mb-12 text-gray-800">Multimedia</h2>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <!-- Columna izquierda: Foto con efecto de parallax -->
    <div class="relative overflow-hidden rounded-lg shadow-xl transform -rotate-2">
        <img 
          src="/img/Pareja1.webp" 
          alt="Imagen Parallax" 
          class="absolute inset-0 w-full h-full object-cover">
      </div>
      

    <!-- Columna derecha: Video o audio -->
    <div class="space-y-8">
      {/* Video */}
      <div class="rounded-lg overflow-hidden shadow-lg bg-gray-100 p-4">
        {hasVideo ? (
          <>
            <h3 class="text-2xl font-medium mb-4 text-gray-700">Nuestro Video</h3>
            <div class="aspect-w-16 aspect-h-9">
              <video 
                controls 
                class="w-full rounded"
                poster="/img/video-poster.jpg"
              >
                <source src={videoUrl} type="video/mp4">
                <p class="text-center py-4">Tu navegador no soporta el elemento de video.</p>
              </video>
            </div>
          </>
        ) : (
          <div class="text-center py-4">
            <p class="text-gray-600 italic">
              "El amor no se trata de mirarse el uno al otro, sino de mirar juntos en la misma dirección."
            </p>
            <p class="text-gray-500 mt-2">- Antoine de Saint-Exupéry</p>
          </div>
        )}
      </div>

      {/* Audio */}
      <div class="rounded-lg overflow-hidden shadow-lg bg-gray-100 p-4">
        {hasAudio ? (
          <>
            <h3 class="text-2xl font-medium mb-4 text-gray-700">Nuestra Canción</h3>
            <audio 
              controls 
              class="w-full"
            >
              <source src={audioUrl} type="audio/mpeg">
              <p class="text-center py-2">Tu navegador no soporta el elemento de audio.</p>
            </audio>
          </>
        ) : (
          <div class="text-center py-4">
            <p class="text-gray-600 italic">
              "La música expresa lo que no puede ser dicho y aquello sobre lo que es imposible permanecer en silencio."
            </p>
            <p class="text-gray-500 mt-2">- Victor Hugo</p>
          </div>
        )}
      </div>
    </div>
  </div>
</section>

<style>
    #parallaxImage {
  background-size: cover;
}

  audio::-webkit-media-controls-panel {
    background-color: #f3f4f6;
  }
  audio::-webkit-media-controls-current-time-display,
  audio::-webkit-media-controls-time-remaining-display {
    color: #374151;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    
    
    
    // Reemplaza la parte del script que maneja el parallax con esto
    const parallaxImage = document.getElementById('parallaxImage');

if (parallaxImage) {
  window.addEventListener('scroll', () => {
    const scrollPosition = window.scrollY;
    const speed = 0.2; // Puedes ajustar este valor para cambiar la velocidad
    parallaxImage.style.transform = `translateY(${scrollPosition * speed}px)`;
  });
}

    // Manejo de errores de video/audio
    const videoElement = document.querySelector('video');
    const audioElement = document.querySelector('audio');

    if (videoElement) {
      videoElement.addEventListener('error', () => {
        const container = videoElement.parentElement;
        if (container) {
          container.innerHTML = `
            <div class="text-center py-4">
              <p class="text-gray-600 italic">
                "Cada historia de amor es hermosa, pero la nuestra es mi favorita."
              </p>
            </div>
          `;
        }
      });
    }

    if (audioElement) {
      audioElement.addEventListener('error', () => {
        const container = audioElement.parentElement;
        if (container) {
          container.innerHTML = `
            <div class="text-center py-4">
              <p class="text-gray-600 italic">
                "La música expresa lo que no puede ser dicho y aquello sobre lo que es imposible permanecer en silencio."
              </p>
              <p class="text-gray-500 mt-2">- Victor Hugo</p>
            </div>
          `;
        }
      });
    }
  });
</script>