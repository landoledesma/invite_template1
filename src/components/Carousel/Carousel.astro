---
import { images, logoPath } from '../../data/CarouselData';
import {initializeCarousel} from './CarouselLogic'
---

<div class="relative w-full max-w-6xl mx-auto h-[600px] overflow-hidden group">
  <div class="carousel-container flex transition-transform duration-500 h-full">
    {images.map((imgPath, index) => (
      <div class="carousel-slide w-full flex-shrink-0 h-full relative">
        <div class="absolute inset-0 bg-black/30 z-10"></div>
        <img
          src={imgPath}
          alt={`Imagen ${index + 1} de la pareja`}
          class="w-full h-full object-cover"
          loading={index === 0 ? "eager" : "lazy"}
        />
      </div>
    ))}
  </div>

  <div class="absolute bottom-16 left-1/2 transform -translate-x-1/2 z-20 w-40 h-40">
    <img
      src={logoPath}
      alt="Logo de la pareja"
      class="w-full h-full object-contain rounded-full p-2 bg-white/10 backdrop-blur-sm"
    />
  </div>

  <button class="prev absolute ...">...</button>
  <button class="next absolute ...">...</button>

  <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-30">
    {images.map((_, index) => (
      <button
        class="indicator w-3 h-3 rounded-full bg-white/50 hover:bg-white/75"
        data-index={index}
        aria-label={`Ir a imagen ${index + 1}`}
      />
    ))}
  </div>
</div>

<style>
  .carousel-container {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }
  .carousel-slide {
    flex: 0 0 100%;
  }
</style>

<script>
  import { initializeCarousel } from './CarouselLogic';
  window.addEventListener('DOMContentLoaded', initializeCarousel);
</script>
